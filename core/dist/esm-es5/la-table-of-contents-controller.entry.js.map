{"version":3,"names":["tableOfContentsControllerCss","LaTableOfContentsControllerStyle0","TableOfContentsController","this","handleTitleChange","debounce","e","_this","titleFilter","target","value","PROVIDER","class_1","prototype","clearTitleFilter","expandAll","tocElement","el","querySelector","collapseAll","render","renderHideClearFilterButton","hideClearTitleFilterButton","h","class","concat","titleFilterClearBtnClasses","type","onClick","disabled","name","Host","titleFilterInputClasses","placeholder","titleFilterPlaceholder","onInput","expandAllBtnClasses","expandAllBtnText","collapseAllBtnClasses","collapseAllBtnText","items","fetch","provider","partner","frbrExpressionUri","expanded","slot"],"sources":["src/components/table-of-contents-controller/table-of-contents-controller.scss?tag=la-table-of-contents-controller","src/components/table-of-contents-controller/table-of-contents-controller.tsx"],"sourcesContent":["la-table-of-contents-controller {\n  * {\n    box-sizing: border-box;\n  }\n\n  .search {\n    width: 100%;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    position: relative;\n  }\n\n  .search__input {\n    flex: 1;\n  }\n\n  .search__clear-btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n  }\n\n  .toggle {\n    margin-bottom: 5px;\n  }\n\n  .toggle__expand-all-btn {\n    margin-right: 5px;\n  }\n}\n","// eslint-disable-next-line no-unused-vars\nimport { Component, Prop, h, Host, State, Element } from '@stencil/core';\nimport debounce from 'lodash/debounce';\n\nimport { PROVIDER } from '../../utils/services';\nimport type { TOCItem } from '../table-of-contents/table-of-contents';\n\n@Component({\n  tag: 'la-table-of-contents-controller',\n  styleUrl: 'table-of-contents-controller.scss',\n})\nexport class TableOfContentsController {\n  /**\n   * JSON value of array of items or string value parsed to array of items used to build the table of contents. Each\n   * item must have a `title` attribute (which may be `null`), and a `children` attribute (which may be `null`).\n   * */\n  @Prop() items: TOCItem[] | string = [];\n\n  /**\n   * Placeholder for search title filter\n   * */\n  @Prop() titleFilterPlaceholder = 'Search the table of contents';\n\n  /**\n   * If true, hides clear title filter button\n   */\n  @Prop() hideClearTitleFilterButton = false;\n\n  /**\n   * Additional classes added to title filter button\n   */\n  @Prop() titleFilterClearBtnClasses = '';\n\n  /**\n   * Additional classes added to Expand all button\n   * */\n  @Prop() expandAllBtnClasses = '';\n\n  /**\n   * Additional classes added to Collapse all button\n   * */\n  @Prop() collapseAllBtnClasses = '';\n\n  /**\n   * Button text for expand all button\n   * */\n  @Prop() expandAllBtnText = 'Expand all';\n\n  /**\n   * Button text for collapse all button\n   * */\n  @Prop() collapseAllBtnText = 'Collapse all';\n\n  /** Should the table of contents be expanded when first created? */\n  @Prop() expanded = true;\n\n  /**\n   * Additional CSS classes added to the search filter input\n   * */\n  @Prop() titleFilterInputClasses = '';\n\n  /** Full Akoma Ntoso FRBR Expression URI to fetch TOC information for. Only used if `fetch` is set. */\n  @Prop({ reflect: true, mutable: true }) frbrExpressionUri?: string;\n  /** Fetch content from Laws.Africa services? Requires a Laws.Africa partnership and the frbrExpressionUri property to be set. */\n  @Prop({ reflect: true, mutable: true }) fetch = false;\n  /** Partner code to use when fetching content from Laws.Africa. Defaults to the `location.hostname`. */\n  @Prop({ reflect: true, mutable: true }) partner?: string;\n  /** Provider URL for fetching content (advanced usage only). */\n  @Prop() provider = PROVIDER;\n\n  @State() titleFilter = '';\n  @Element() el!: HTMLElement;\n\n  handleTitleChange = debounce((e: Event) => {\n    this.titleFilter = (e.target as HTMLInputElement).value;\n  }, 300);\n\n  clearTitleFilter() {\n    this.titleFilter = '';\n  }\n\n  async expandAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.expandAll();\n  }\n\n  async collapseAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.collapseAll();\n  }\n\n  render() {\n    const renderHideClearFilterButton = () => {\n      if (this.hideClearTitleFilterButton) {\n        return null;\n      }\n      return (\n        <button\n          class={`search__clear-btn ${this.titleFilterClearBtnClasses}`}\n          type=\"button\"\n          onClick={() => this.clearTitleFilter()}\n          disabled={!this.titleFilter}\n        >\n          <slot name=\"clear-title-filter-icon\">âœ•</slot>\n        </button>\n      );\n    };\n\n    return (\n      <Host>\n        <div class=\"search\">\n          <input\n            class={`search__input ${this.titleFilterInputClasses}`}\n            value={this.titleFilter}\n            placeholder={this.titleFilterPlaceholder}\n            onInput={(e) => this.handleTitleChange(e)}\n          />\n          {renderHideClearFilterButton()}\n        </div>\n        <div class=\"toggle\">\n          <button\n            type=\"button\"\n            class={`toggle__expand-all-btn ${this.expandAllBtnClasses}`}\n            onClick={() => this.expandAll()}\n          >\n            {this.expandAllBtnText}\n          </button>\n          <button\n            type=\"button\"\n            class={`toggle__collapse-all-btn ${this.collapseAllBtnClasses}`}\n            onClick={() => this.collapseAll()}\n          >\n            {this.collapseAllBtnText}\n          </button>\n        </div>\n\n        <la-table-of-contents\n          items={this.items}\n          titleFilter={this.titleFilter}\n          fetch={this.fetch}\n          provider={this.provider}\n          partner={this.partner}\n          frbr-expression-uri={this.frbrExpressionUri}\n          expanded={this.expanded}\n        >\n          <span slot=\"expand-icon\">\n            <slot name=\"expand-icon\"></slot>\n          </span>\n          <span slot=\"collapse-icon\">\n            <slot name=\"collapse-icon\"></slot>\n          </span>\n        </la-table-of-contents>\n      </Host>\n    );\n  }\n}\n"],"mappings":";;;4LAAA,IAAMA,6BAA+B,6hBACrC,IAAAC,kCAAeD,6B,ICUFE,0BAAyB,W,kDA8DpCC,KAAAC,kBAAoBC,YAAS,SAACC,GAC5BC,EAAKC,YAAeF,EAAEG,OAA4BC,K,GACjD,K,WA3DiC,G,4BAKH,+B,gCAKI,M,gCAKA,G,yBAKP,G,2BAKE,G,sBAKL,a,wBAKE,e,cAGV,K,6BAKe,G,4CAKc,M,qCAI7BC,S,iBAEI,E,CAOvBC,EAAAC,UAAAC,iBAAA,WACEX,KAAKK,YAAc,E,EAGfI,EAAAC,UAAAE,UAAN,W,2FACQC,EAAab,KAAKc,GAAGC,cAAc,wBACzCF,IAAU,MAAVA,SAAU,SAAVA,EAAYD,Y,iBAGRH,EAAAC,UAAAM,YAAN,W,2FACQH,EAAab,KAAKc,GAAGC,cAAc,wBACzCF,IAAU,MAAVA,SAAU,SAAVA,EAAYG,c,iBAGdP,EAAAC,UAAAO,OAAA,eAAAb,EAAAJ,KACE,IAAMkB,EAA8B,WAClC,GAAId,EAAKe,2BAA4B,CACnC,OAAO,I,CAET,OACEC,EAAA,UACEC,MAAO,qBAAAC,OAAqBlB,EAAKmB,4BACjCC,KAAK,SACLC,QAAS,WAAM,OAAArB,EAAKO,kBAAL,EACfe,UAAWtB,EAAKC,aAEhBe,EAAA,QAAMO,KAAK,2BAAyB,K,EAK1C,OACEP,EAACQ,KAAI,KACHR,EAAA,OAAKC,MAAM,UACTD,EAAA,SACEC,MAAO,iBAAAC,OAAiBtB,KAAK6B,yBAC7BtB,MAAOP,KAAKK,YACZyB,YAAa9B,KAAK+B,uBAClBC,QAAS,SAAC7B,GAAM,OAAAC,EAAKH,kBAAkBE,EAAvB,IAEjBe,KAEHE,EAAA,OAAKC,MAAM,UACTD,EAAA,UACEI,KAAK,SACLH,MAAO,0BAAAC,OAA0BtB,KAAKiC,qBACtCR,QAAS,WAAM,OAAArB,EAAKQ,WAAL,GAEdZ,KAAKkC,kBAERd,EAAA,UACEI,KAAK,SACLH,MAAO,4BAAAC,OAA4BtB,KAAKmC,uBACxCV,QAAS,WAAM,OAAArB,EAAKY,aAAL,GAEdhB,KAAKoC,qBAIVhB,EAAA,wBACEiB,MAAOrC,KAAKqC,MACZhC,YAAaL,KAAKK,YAClBiC,MAAOtC,KAAKsC,MACZC,SAAUvC,KAAKuC,SACfC,QAASxC,KAAKwC,QAAO,sBACAxC,KAAKyC,kBAC1BC,SAAU1C,KAAK0C,UAEftB,EAAA,QAAMuB,KAAK,eACTvB,EAAA,QAAMO,KAAK,iBAEbP,EAAA,QAAMuB,KAAK,iBACTvB,EAAA,QAAMO,KAAK,oB,gIA1Ie,G","ignoreList":[]}