{"file":"la-table-of-contents-controller.js","mappings":";;;;;;;;;AAAA,MAAM,4BAA4B,GAAG,4hBAA4hB,CAAC;AAClkB,0CAAe,4BAA4B;;MCU9B,yBAAyB;;;;QA8DpC,sBAAiB,GAAGA,UAAQ,CAAC,CAAC,CAAQ;YACpC,IAAI,CAAC,WAAW,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC;SACzD,EAAE,GAAG,CAAC,CAAC;qBA3D4B,EAAE;sCAKL,8BAA8B;0CAK1B,KAAK;0CAKL,EAAE;mCAKT,EAAE;qCAKA,EAAE;gCAKP,YAAY;kCAKV,cAAc;wBAGxB,IAAI;uCAKW,EAAE;;qBAKY,KAAK;;wBAIlC,QAAQ;2BAEJ,EAAE;;IAOzB,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;KACvB;IAED,MAAM,SAAS;QACb,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;QACjE,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,SAAS,EAAE,CAAC;KACzB;IAED,MAAM,WAAW;QACf,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;QACjE,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,WAAW,EAAE,CAAC;KAC3B;IAED,MAAM;QACJ,MAAM,2BAA2B,GAAG;YAClC,IAAI,IAAI,CAAC,0BAA0B,EAAE;gBACnC,OAAO,IAAI,CAAC;aACb;YACD,QACE,cACE,KAAK,EAAE,qBAAqB,IAAI,CAAC,0BAA0B,EAAE,EAC7D,IAAI,EAAC,QAAQ,EACb,OAAO,EAAE,MAAM,IAAI,CAAC,gBAAgB,EAAE,EACtC,QAAQ,EAAE,CAAC,IAAI,CAAC,WAAW,IAE3B,YAAM,IAAI,EAAC,yBAAyB,aAAS,CACtC,EACT;SACH,CAAC;QAEF,QACE,EAAC,IAAI,QACH,WAAK,KAAK,EAAC,QAAQ,IACjB,aACE,KAAK,EAAE,iBAAiB,IAAI,CAAC,uBAAuB,EAAE,EACtD,KAAK,EAAE,IAAI,CAAC,WAAW,EACvB,WAAW,EAAE,IAAI,CAAC,sBAAsB,EACxC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GACzC,EACD,2BAA2B,EAAE,CAC1B,EACN,WAAK,KAAK,EAAC,QAAQ,IACjB,cACE,IAAI,EAAC,QAAQ,EACb,KAAK,EAAE,0BAA0B,IAAI,CAAC,mBAAmB,EAAE,EAC3D,OAAO,EAAE,MAAM,IAAI,CAAC,SAAS,EAAE,IAE9B,IAAI,CAAC,gBAAgB,CACf,EACT,cACE,IAAI,EAAC,QAAQ,EACb,KAAK,EAAE,4BAA4B,IAAI,CAAC,qBAAqB,EAAE,EAC/D,OAAO,EAAE,MAAM,IAAI,CAAC,WAAW,EAAE,IAEhC,IAAI,CAAC,kBAAkB,CACjB,CACL,EAEN,4BACE,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,OAAO,EAAE,IAAI,CAAC,OAAO,yBACA,IAAI,CAAC,iBAAiB,EAC3C,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAEvB,YAAM,IAAI,EAAC,aAAa,IACtB,YAAM,IAAI,EAAC,aAAa,GAAQ,CAC3B,EACP,YAAM,IAAI,EAAC,eAAe,IACxB,YAAM,IAAI,EAAC,eAAe,GAAQ,CAC7B,CACc,CAClB,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["debounce"],"sources":["src/components/table-of-contents-controller/table-of-contents-controller.scss?tag=la-table-of-contents-controller","src/components/table-of-contents-controller/table-of-contents-controller.tsx"],"sourcesContent":["la-table-of-contents-controller {\n  * {\n    box-sizing: border-box;\n  }\n\n  .search {\n    width: 100%;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    position: relative;\n  }\n\n  .search__input {\n    flex: 1;\n  }\n\n  .search__clear-btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n  }\n\n  .toggle {\n    margin-bottom: 5px;\n  }\n\n  .toggle__expand-all-btn {\n    margin-right: 5px;\n  }\n}\n","// eslint-disable-next-line no-unused-vars\nimport { Component, Prop, h, Host, State, Element } from '@stencil/core';\nimport debounce from 'lodash/debounce';\n\nimport { PROVIDER } from '../../utils/services';\nimport type { TOCItem } from '../table-of-contents/table-of-contents';\n\n@Component({\n  tag: 'la-table-of-contents-controller',\n  styleUrl: 'table-of-contents-controller.scss',\n})\nexport class TableOfContentsController {\n  /**\n   * JSON value of array of items or string value parsed to array of items used to build the table of contents. Each\n   * item must have a `title` attribute (which may be `null`), and a `children` attribute (which may be `null`).\n   * */\n  @Prop() items: TOCItem[] | string = [];\n\n  /**\n   * Placeholder for search title filter\n   * */\n  @Prop() titleFilterPlaceholder = 'Search the table of contents';\n\n  /**\n   * If true, hides clear title filter button\n   */\n  @Prop() hideClearTitleFilterButton = false;\n\n  /**\n   * Additional classes added to title filter button\n   */\n  @Prop() titleFilterClearBtnClasses = '';\n\n  /**\n   * Additional classes added to Expand all button\n   * */\n  @Prop() expandAllBtnClasses = '';\n\n  /**\n   * Additional classes added to Collapse all button\n   * */\n  @Prop() collapseAllBtnClasses = '';\n\n  /**\n   * Button text for expand all button\n   * */\n  @Prop() expandAllBtnText = 'Expand all';\n\n  /**\n   * Button text for collapse all button\n   * */\n  @Prop() collapseAllBtnText = 'Collapse all';\n\n  /** Should the table of contents be expanded when first created? */\n  @Prop() expanded = true;\n\n  /**\n   * Additional CSS classes added to the search filter input\n   * */\n  @Prop() titleFilterInputClasses = '';\n\n  /** Full Akoma Ntoso FRBR Expression URI to fetch TOC information for. Only used if `fetch` is set. */\n  @Prop({ reflect: true, mutable: true }) frbrExpressionUri?: string;\n  /** Fetch content from Laws.Africa services? Requires a Laws.Africa partnership and the frbrExpressionUri property to be set. */\n  @Prop({ reflect: true, mutable: true }) fetch = false;\n  /** Partner code to use when fetching content from Laws.Africa. Defaults to the `location.hostname`. */\n  @Prop({ reflect: true, mutable: true }) partner?: string;\n  /** Provider URL for fetching content (advanced usage only). */\n  @Prop() provider = PROVIDER;\n\n  @State() titleFilter = '';\n  @Element() el!: HTMLElement;\n\n  handleTitleChange = debounce((e: Event) => {\n    this.titleFilter = (e.target as HTMLInputElement).value;\n  }, 300);\n\n  clearTitleFilter() {\n    this.titleFilter = '';\n  }\n\n  async expandAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.expandAll();\n  }\n\n  async collapseAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.collapseAll();\n  }\n\n  render() {\n    const renderHideClearFilterButton = () => {\n      if (this.hideClearTitleFilterButton) {\n        return null;\n      }\n      return (\n        <button\n          class={`search__clear-btn ${this.titleFilterClearBtnClasses}`}\n          type=\"button\"\n          onClick={() => this.clearTitleFilter()}\n          disabled={!this.titleFilter}\n        >\n          <slot name=\"clear-title-filter-icon\">âœ•</slot>\n        </button>\n      );\n    };\n\n    return (\n      <Host>\n        <div class=\"search\">\n          <input\n            class={`search__input ${this.titleFilterInputClasses}`}\n            value={this.titleFilter}\n            placeholder={this.titleFilterPlaceholder}\n            onInput={(e) => this.handleTitleChange(e)}\n          />\n          {renderHideClearFilterButton()}\n        </div>\n        <div class=\"toggle\">\n          <button\n            type=\"button\"\n            class={`toggle__expand-all-btn ${this.expandAllBtnClasses}`}\n            onClick={() => this.expandAll()}\n          >\n            {this.expandAllBtnText}\n          </button>\n          <button\n            type=\"button\"\n            class={`toggle__collapse-all-btn ${this.collapseAllBtnClasses}`}\n            onClick={() => this.collapseAll()}\n          >\n            {this.collapseAllBtnText}\n          </button>\n        </div>\n\n        <la-table-of-contents\n          items={this.items}\n          titleFilter={this.titleFilter}\n          fetch={this.fetch}\n          provider={this.provider}\n          partner={this.partner}\n          frbr-expression-uri={this.frbrExpressionUri}\n          expanded={this.expanded}\n        >\n          <span slot=\"expand-icon\">\n            <slot name=\"expand-icon\"></slot>\n          </span>\n          <span slot=\"collapse-icon\">\n            <slot name=\"collapse-icon\"></slot>\n          </span>\n        </la-table-of-contents>\n      </Host>\n    );\n  }\n}\n"],"version":3}