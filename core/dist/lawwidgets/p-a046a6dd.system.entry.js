var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n["throw"](e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++){if(o||!(n in t)){if(!o)o=Array.prototype.slice.call(t,0,n);o[n]=t[n]}}return e.concat(o||Array.prototype.slice.call(t))};
/*!
 * (C) Law Widgets https://laws.africa - MIT License
 */System.register(["./p-15bc3e28.system.js","./p-30777628.system.js"],(function(e){"use strict";var t,r,n,i,o,a;return{setters:[function(e){t=e.r;r=e.h;n=e.H;i=e.g},function(e){o=e.P;a=e.g}],execute:function(){var s=e("la_table_of_contents",function(){function e(e){t(this,e);this.items=[];this.titleFilter="";this.fetch=false;this.provider=o;this.filteredItems=null;this.innerItems=[]}e.prototype.parseItemsProp=function(e){if(typeof e==="string"){this.innerItems=JSON.parse(e)}else if(Array.isArray(e)){this.innerItems=__spreadArray([],e,true)}};e.prototype.refetch=function(){this.fetchContent()};e.prototype.fetchContent=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r;return __generator(this,(function(n){switch(n.label){case 0:this.ensurePartner();if(!(this.fetch&&this.frbrExpressionUri&&this.provider))return[3,3];e=this.provider+"/p/"+this.partner+"/e/we/toc.json"+this.frbrExpressionUri;return[4,fetch(e)];case 1:t=n.sent();if(!t.ok)return[3,3];r=this;return[4,t.json()];case 2:r.innerItems=n.sent().toc;n.label=3;case 3:return[2]}}))}))};e.prototype.ensurePartner=function(){if(!this.partner){this.partner=a()}};e.prototype.componentWillLoad=function(){this.parseItemsProp(this.items);this.titleFilterChanged(this.titleFilter);this.fetchContent()};e.prototype.expandAll=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){Array.from(this.el.querySelectorAll("la-toc-item")).forEach((function(e){e.expanded=true}));return[2]}))}))};e.prototype.collapseAll=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){Array.from(this.el.querySelectorAll("la-toc-item")).forEach((function(e){e.expanded=false}));return[2]}))}))};e.prototype.titleFilterChanged=function(e){if(e){var t=e.toLocaleLowerCase().trim();var r=new Set;function n(e){for(var t=0,i=e.children||[];t<i.length;t++){var o=i[t];r.add(o);n(o)}}function i(e){var o;var a=(((o=e.title)===null||o===void 0?void 0:o.toLocaleLowerCase())||"").includes(t);if(a){n(e)}else{if(e.children){for(var s=0,l=e.children;s<l.length;s++){var c=l[s];a=i(c)||a}}}if(a){r.add(e)}return a}for(var o=0,a=this.innerItems;o<a.length;o++){var s=a[o];i(s)}this.filteredItems=r}else{this.filteredItems=null}this.expandAll()};e.prototype.render=function(){var e=this;var t=function(t){var n=function(t){var r;var n=e.el.querySelector(t);if(n===null||n===void 0?void 0:n.querySelector(t)){return((r=n.querySelector(t))===null||r===void 0?void 0:r.innerHTML)||""}return(n===null||n===void 0?void 0:n.innerHTML)||""};var i=n("[slot='expand-icon']");var o=n("[slot='collapse-icon']");return r("la-toc-item",{item:t,filteredItems:e.filteredItems,expandIconHtml:i,collapseIconHtml:o})};return r(n,null,r("div",{style:{display:"none"}},r("slot",{name:"expand-icon"}),r("slot",{name:"collapse-icon"})),r("div",{class:"toc-items"},this.innerItems.map((function(e){return t(e)}))))};Object.defineProperty(e.prototype,"el",{get:function(){return i(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{items:["parseItemsProp"],provider:["refetch"],frbrExpressionUri:["refetch"],fetch:["refetch"],titleFilter:["titleFilterChanged"]}},enumerable:false,configurable:true});return e}())}}}));