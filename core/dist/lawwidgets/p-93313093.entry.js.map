{"version":3,"names":["tableOfContentsControllerCss","LaTableOfContentsControllerStyle0","TableOfContentsController","this","handleTitleChange","debounce","e","titleFilter","target","value","PROVIDER","clearTitleFilter","expandAll","tocElement","el","querySelector","collapseAll","render","renderHideClearFilterButton","hideClearTitleFilterButton","h","class","titleFilterClearBtnClasses","type","onClick","disabled","name","Host","titleFilterInputClasses","placeholder","titleFilterPlaceholder","onInput","expandAllBtnClasses","expandAllBtnText","collapseAllBtnClasses","collapseAllBtnText","items","fetch","provider","partner","frbrExpressionUri","expanded","slot"],"sources":["src/components/table-of-contents-controller/table-of-contents-controller.scss?tag=la-table-of-contents-controller","src/components/table-of-contents-controller/table-of-contents-controller.tsx"],"sourcesContent":["la-table-of-contents-controller {\n  * {\n    box-sizing: border-box;\n  }\n\n  .search {\n    width: 100%;\n    margin-bottom: 5px;\n    display: flex;\n    align-items: center;\n    position: relative;\n  }\n\n  .search__input {\n    flex: 1;\n  }\n\n  .search__clear-btn {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n  }\n\n  .toggle {\n    margin-bottom: 5px;\n  }\n\n  .toggle__expand-all-btn {\n    margin-right: 5px;\n  }\n}\n","// eslint-disable-next-line no-unused-vars\nimport { Component, Prop, h, Host, State, Element } from '@stencil/core';\nimport debounce from 'lodash/debounce';\n\nimport { PROVIDER } from '../../utils/services';\nimport type { TOCItem } from '../table-of-contents/table-of-contents';\n\n@Component({\n  tag: 'la-table-of-contents-controller',\n  styleUrl: 'table-of-contents-controller.scss',\n})\nexport class TableOfContentsController {\n  /**\n   * JSON value of array of items or string value parsed to array of items used to build the table of contents. Each\n   * item must have a `title` attribute (which may be `null`), and a `children` attribute (which may be `null`).\n   * */\n  @Prop() items: TOCItem[] | string = [];\n\n  /**\n   * Placeholder for search title filter\n   * */\n  @Prop() titleFilterPlaceholder = 'Search the table of contents';\n\n  /**\n   * If true, hides clear title filter button\n   */\n  @Prop() hideClearTitleFilterButton = false;\n\n  /**\n   * Additional classes added to title filter button\n   */\n  @Prop() titleFilterClearBtnClasses = '';\n\n  /**\n   * Additional classes added to Expand all button\n   * */\n  @Prop() expandAllBtnClasses = '';\n\n  /**\n   * Additional classes added to Collapse all button\n   * */\n  @Prop() collapseAllBtnClasses = '';\n\n  /**\n   * Button text for expand all button\n   * */\n  @Prop() expandAllBtnText = 'Expand all';\n\n  /**\n   * Button text for collapse all button\n   * */\n  @Prop() collapseAllBtnText = 'Collapse all';\n\n  /** Should the table of contents be expanded when first created? */\n  @Prop() expanded = true;\n\n  /**\n   * Additional CSS classes added to the search filter input\n   * */\n  @Prop() titleFilterInputClasses = '';\n\n  /** Full Akoma Ntoso FRBR Expression URI to fetch TOC information for. Only used if `fetch` is set. */\n  @Prop({ reflect: true, mutable: true }) frbrExpressionUri?: string;\n  /** Fetch content from Laws.Africa services? Requires a Laws.Africa partnership and the frbrExpressionUri property to be set. */\n  @Prop({ reflect: true, mutable: true }) fetch = false;\n  /** Partner code to use when fetching content from Laws.Africa. Defaults to the `location.hostname`. */\n  @Prop({ reflect: true, mutable: true }) partner?: string;\n  /** Provider URL for fetching content (advanced usage only). */\n  @Prop() provider = PROVIDER;\n\n  @State() titleFilter = '';\n  @Element() el!: HTMLElement;\n\n  handleTitleChange = debounce((e: Event) => {\n    this.titleFilter = (e.target as HTMLInputElement).value;\n  }, 300);\n\n  clearTitleFilter() {\n    this.titleFilter = '';\n  }\n\n  async expandAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.expandAll();\n  }\n\n  async collapseAll() {\n    const tocElement = this.el.querySelector('la-table-of-contents');\n    tocElement?.collapseAll();\n  }\n\n  render() {\n    const renderHideClearFilterButton = () => {\n      if (this.hideClearTitleFilterButton) {\n        return null;\n      }\n      return (\n        <button\n          class={`search__clear-btn ${this.titleFilterClearBtnClasses}`}\n          type=\"button\"\n          onClick={() => this.clearTitleFilter()}\n          disabled={!this.titleFilter}\n        >\n          <slot name=\"clear-title-filter-icon\">âœ•</slot>\n        </button>\n      );\n    };\n\n    return (\n      <Host>\n        <div class=\"search\">\n          <input\n            class={`search__input ${this.titleFilterInputClasses}`}\n            value={this.titleFilter}\n            placeholder={this.titleFilterPlaceholder}\n            onInput={(e) => this.handleTitleChange(e)}\n          />\n          {renderHideClearFilterButton()}\n        </div>\n        <div class=\"toggle\">\n          <button\n            type=\"button\"\n            class={`toggle__expand-all-btn ${this.expandAllBtnClasses}`}\n            onClick={() => this.expandAll()}\n          >\n            {this.expandAllBtnText}\n          </button>\n          <button\n            type=\"button\"\n            class={`toggle__collapse-all-btn ${this.collapseAllBtnClasses}`}\n            onClick={() => this.collapseAll()}\n          >\n            {this.collapseAllBtnText}\n          </button>\n        </div>\n\n        <la-table-of-contents\n          items={this.items}\n          titleFilter={this.titleFilter}\n          fetch={this.fetch}\n          provider={this.provider}\n          partner={this.partner}\n          frbr-expression-uri={this.frbrExpressionUri}\n          expanded={this.expanded}\n        >\n          <span slot=\"expand-icon\">\n            <slot name=\"expand-icon\"></slot>\n          </span>\n          <span slot=\"collapse-icon\">\n            <slot name=\"collapse-icon\"></slot>\n          </span>\n        </la-table-of-contents>\n      </Host>\n    );\n  }\n}\n"],"mappings":";;;iIAAA,MAAMA,EAA+B,6hBACrC,MAAAC,EAAeD,E,MCUFE,EAAyB,M,yBA8DpCC,KAAAC,kBAAoBC,GAAUC,IAC5BH,KAAKI,YAAeD,EAAEE,OAA4BC,KAAK,GACtD,K,WA3DiC,G,4BAKH,+B,gCAKI,M,gCAKA,G,yBAKP,G,2BAKE,G,sBAKL,a,wBAKE,e,cAGV,K,6BAKe,G,4CAKc,M,qCAI7BC,E,iBAEI,E,CAOvB,gBAAAC,GACER,KAAKI,YAAc,E,CAGrB,eAAMK,GACJ,MAAMC,EAAaV,KAAKW,GAAGC,cAAc,wBACzCF,IAAU,MAAVA,SAAU,SAAVA,EAAYD,W,CAGd,iBAAMI,GACJ,MAAMH,EAAaV,KAAKW,GAAGC,cAAc,wBACzCF,IAAU,MAAVA,SAAU,SAAVA,EAAYG,a,CAGd,MAAAC,GACE,MAAMC,EAA8B,KAClC,GAAIf,KAAKgB,2BAA4B,CACnC,OAAO,I,CAET,OACEC,EAAA,UACEC,MAAO,qBAAqBlB,KAAKmB,6BACjCC,KAAK,SACLC,QAAS,IAAMrB,KAAKQ,mBACpBc,UAAWtB,KAAKI,aAEhBa,EAAA,QAAMM,KAAK,2BAAyB,KAC7B,EAIb,OACEN,EAACO,EAAI,KACHP,EAAA,OAAKC,MAAM,UACTD,EAAA,SACEC,MAAO,iBAAiBlB,KAAKyB,0BAC7BnB,MAAON,KAAKI,YACZsB,YAAa1B,KAAK2B,uBAClBC,QAAUzB,GAAMH,KAAKC,kBAAkBE,KAExCY,KAEHE,EAAA,OAAKC,MAAM,UACTD,EAAA,UACEG,KAAK,SACLF,MAAO,0BAA0BlB,KAAK6B,sBACtCR,QAAS,IAAMrB,KAAKS,aAEnBT,KAAK8B,kBAERb,EAAA,UACEG,KAAK,SACLF,MAAO,4BAA4BlB,KAAK+B,wBACxCV,QAAS,IAAMrB,KAAKa,eAEnBb,KAAKgC,qBAIVf,EAAA,wBACEgB,MAAOjC,KAAKiC,MACZ7B,YAAaJ,KAAKI,YAClB8B,MAAOlC,KAAKkC,MACZC,SAAUnC,KAAKmC,SACfC,QAASpC,KAAKoC,QAAO,sBACApC,KAAKqC,kBAC1BC,SAAUtC,KAAKsC,UAEfrB,EAAA,QAAMsB,KAAK,eACTtB,EAAA,QAAMM,KAAK,iBAEbN,EAAA,QAAMsB,KAAK,iBACTtB,EAAA,QAAMM,KAAK,oB","ignoreList":[]}