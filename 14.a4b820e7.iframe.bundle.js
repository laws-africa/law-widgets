/*! For license information please see 14.a4b820e7.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14,20],{"./dist/esm-es5/la-table-of-contents.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"la_table_of_contents",(function(){return TableOfContents}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("./node_modules/core-js/modules/es.set.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var tslib__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./dist/esm-es5/index-4ffc90d1.js"),_services_b5707fc1_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./dist/esm-es5/services-b5707fc1.js"),TableOfContents=function(){function e(e){Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.r)(this,e),this.items=[],this.titleFilter="",this.expanded=!0,this.fetch=!1,this.provider=_services_b5707fc1_js__WEBPACK_IMPORTED_MODULE_17__.P,this.filteredItems=null,this.innerItems=[],this.expandIconHtml="",this.collapseIconHtml=""}return e.prototype.parseItemsProp=function(e){"string"==typeof e?this.innerItems=JSON.parse(e):Array.isArray(e)&&(this.innerItems=Object(tslib__WEBPACK_IMPORTED_MODULE_15__.d)([],e,!0))},e.prototype.refetch=function(){this.fetchContent()},e.prototype.fetchContent=function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.a)(this,void 0,void 0,(function(){var e,t,r;return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.c)(this,(function(i){switch(i.label){case 0:if(this.ensurePartner(),!(this.fetch&&this.frbrExpressionUri&&this.provider))return[3,6];e=this.provider+"/p/"+this.partner+"/e/we/toc.json"+this.frbrExpressionUri,i.label=1;case 1:return i.trys.push([1,5,,6]),[4,fetch(e)];case 2:return(t=i.sent()).ok?(r=this,[4,t.json()]):[3,4];case 3:r.innerItems=i.sent().toc,i.label=4;case 4:return[3,6];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.ensurePartner=function(){this.partner||(this.partner=Object(_services_b5707fc1_js__WEBPACK_IMPORTED_MODULE_17__.g)())},e.prototype.getSlotHTML=function(e){var t,r=this.el.querySelector(e);return(null==r?void 0:r.querySelector(e))?(null===(t=r.querySelector(e))||void 0===t?void 0:t.innerHTML)||"":(null==r?void 0:r.innerHTML)||""},e.prototype.componentWillLoad=function(){this.expandIconHtml=this.getSlotHTML("[slot='expand-icon']"),this.collapseIconHtml=this.getSlotHTML("[slot='collapse-icon']"),this.parseItemsProp(this.items),this.titleFilterChanged(this.titleFilter),this.fetchContent()},e.prototype.expandAll=function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.a)(this,void 0,void 0,(function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.c)(this,(function(e){return Array.from(this.el.querySelectorAll("la-toc-item")).forEach((function(e){e.expanded=!0})),[2]}))}))},e.prototype.collapseAll=function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.a)(this,void 0,void 0,(function(){return Object(tslib__WEBPACK_IMPORTED_MODULE_15__.c)(this,(function(e){return Array.from(this.el.querySelectorAll("la-toc-item")).forEach((function(e){e.expanded=!1})),[2]}))}))},e.prototype.titleFilterChanged=function(e){if(e){for(var n=function n(e){for(var t=0,i=e.children||[];t<i.length;t++){var o=i[t];r.add(o),n(o)}},i=function i(e){var o,s=((null===(o=e.title)||void 0===o?void 0:o.toLocaleLowerCase())||"").includes(t);if(s)n(e);else if(e.children)for(var a=0,l=e.children;a<l.length;a++){s=i(l[a])||s}return s&&r.add(e),s},t=e.toLocaleLowerCase().trim(),r=new Set,o=0,s=this.innerItems;o<s.length;o++){i(s[o])}this.filteredItems=r}else this.filteredItems=null;this.expandAll()},e.prototype.renderItem=function(e){var t=this,r=(e.children||[]).map((function(e){return t.renderItem(e)})),n=void 0===e.expanded?this.expanded:e.expanded;return Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.h)("la-toc-item",{item:e,filteredItems:this.filteredItems,expandIconHtml:this.expandIconHtml,collapseIconHtml:this.collapseIconHtml,expanded:n},r)},e.prototype.render=function(){var e=this;return Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.h)(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.H,null,Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.h)("div",{style:{display:"none"}},Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.h)("slot",{name:"expand-icon"}),Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.h)("slot",{name:"collapse-icon"})),this.innerItems.map((function(t){return e.renderItem(t)})))},Object.defineProperty(e.prototype,"el",{get:function get(){return Object(_index_4ffc90d1_js__WEBPACK_IMPORTED_MODULE_16__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"watchers",{get:function get(){return{items:["parseItemsProp"],provider:["refetch"],frbrExpressionUri:["refetch"],fetch:["refetch"],titleFilter:["titleFilterChanged"]}},enumerable:!1,configurable:!0}),e}()},"./dist/esm-es5/services-b5707fc1.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"P",(function(){return PROVIDER})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getPartner}));__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js");function getPartner(){return document.location.hostname.replace(/^www\./,"")}var PROVIDER="https://services.lawsafrica.com/v1"}}]);
//# sourceMappingURL=14.a4b820e7.iframe.bundle.js.map